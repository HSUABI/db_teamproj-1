<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>User Info modify</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.min.css" />
    <link href="../assets/vendor/fonts/circular-std/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="../assets/libs/css/style.css" />
    <link
      rel="stylesheet"
      href="../assets/vendor/fonts/fontawesome/css/fontawesome-all.css"
    />
    <script src="/assets/vendor/jquery/jquery-3.3.1.min.js"></script>
    <style>
      html,
      body {
        height: 100%;
      }

      body {
        display: -ms-flexbox;
        display: flex;
        -ms-flex-align: center;
        align-items: center;
        padding-top: 40px;
        padding-bottom: 40px;
      }
    </style>
  </head>
  <!-- ============================================================== -->
  <!-- signup form  -->
  <!-- ============================================================== -->

  <body>
    <!-- ============================================================== -->
    <!-- signup form  -->
    <!-- ============================================================== -->
      <div class="card splash-container">
        <div class="card-header">
          <h3 class="mb-1" align="center">유저 정보 변경</h3>
        </div>
        <div class="card-body">
          Username : <%= session.username %>
          <br>
          Current your Email : <%= email %>
          <br>
          <br>
          <form action="/user/changeinfo/email" method="POST" class="splash-container">
            <div class="form-group">
              <input
                class="form-control form-control-lg"
                type="email"
                name="email"
                required=""
                placeholder= "<%= email %>"
                autocomplete="off"
              />
            </div>

            <div class="form-group pt-2">
              <button class="btn btn-block btn-primary" type="submit">이메일 변경</button>
            </div>
          </form>
          <br>
          <hr>
          <br>
          
          <form action="/user/changeinfo/pw" method="POST" class="splash-container">
            <div class="form-group">
              <input
                class="form-control form-control-lg"
                id="pass1"
                type="password"
                name="cur_password"
                required=""
                placeholder="현재 비밀번호를 입력해주세요"
              />
            </div>

            <div class="form-group">
              <input
                class="form-control form-control-lg"
                id="pass2"
                type="password"
                name="password"
                required=""
                placeholder="변경할 비밀번호를 입력해주세요"
              />
            </div>

            <div class="form-group">
              <input
                class="form-control form-control-lg"
                id="pass3"
                name="password2"
                type="password"
                required=""
                placeholder="변경할 비밀번호를 입력해주세요"
              />
            </div>

            <div class="form-group pt-2">
              <button class="btn btn-block btn-primary" id="Btn" type="submit">비밀번호 변경</button>
            </div>
          </form>
        </div>
        <div class="card-footer bg-white">
          <p>내용을 저장하지 않고 끝내고 싶으시다면?</p>
          <a href="/" class="text-secondary">메인 이동</a>
          <a> | </a>
          <a href="/user/getout" class="text-secondary">탈퇴하기</a>
        </div>
      </div>
    
    <script>
      $('#Btn').click(e => {
        if ($('#pass2').val() !== $('#pass3').val()) {
          alert('비밀번호를 확인해 주세요.');
        } else {
          $('#Btn').submit();
        }
      });

    </script> 
  </body>
</html>
